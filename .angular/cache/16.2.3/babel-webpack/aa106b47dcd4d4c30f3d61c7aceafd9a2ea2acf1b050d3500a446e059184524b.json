{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, Input } from '@angular/core';\nexport let CardComponent = class CardComponent {\n  constructor(service, router) {\n    this.service = service;\n    this.router = router;\n  }\n  ngOnInit() {\n    this.search$.subscribe(search => {\n      this.service.getAccomodations().subscribe(accomodations => {\n        if (search !== '') {\n          this.accomodationsFiltered = accomodations.filter(accomodation => {\n            return accomodation.city.name.includes(search);\n          });\n        } else {\n          this.accomodationsFiltered = accomodations;\n        }\n      });\n    });\n  }\n  onClick(id) {\n    this.router.navigate(['/page-details', id]);\n  }\n};\n__decorate([Input()], CardComponent.prototype, \"search$\", void 0);\nCardComponent = __decorate([Component({\n  selector: 'app-card',\n  templateUrl: './card.component.html',\n  styleUrls: ['./card.component.scss']\n})], CardComponent);","map":{"version":3,"names":["Component","Input","CardComponent","constructor","service","router","ngOnInit","search$","subscribe","search","getAccomodations","accomodations","accomodationsFiltered","filter","accomodation","city","name","includes","onClick","id","navigate","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\VICTUS by HP\\Desktop\\Cours\\3A\\PW\\airbnb\\src\\app\\components\\card\\card.component.ts"],"sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\nimport {Router} from '@angular/router';\nimport { Observable, BehaviorSubject } from 'rxjs';\nimport { GetAccomodationsService } from 'src/app/services/get-accomodations.service';\nimport { Logement } from 'src/models/Logements';\n\n\n@Component({\n  selector: 'app-card',\n  templateUrl: './card.component.html',\n  styleUrls: ['./card.component.scss']\n})\n\nexport class CardComponent implements OnInit {\n\n  cityInput : String\n\n  @Input() search$: BehaviorSubject<string>\n\n\n \n  \n  accomodationsFiltered: Array<Logement>\n\n  constructor (private service: GetAccomodationsService, private router: Router){}\n\n  ngOnInit(): void {\n    this.search$.subscribe((search) => {\n      this.service.getAccomodations().subscribe((accomodations) => {\n        \n        if (search !== '') {\n          \n            this.accomodationsFiltered = accomodations.filter((accomodation) => {\n             return accomodation.city.name.includes(search)\n            })\n        } else {\n          \n          this.accomodationsFiltered = accomodations\n        }\n      })\n    })\n    \n  }\n\n  onClick(id : number) {\n    this.router.navigate(['/page-details', id]);\n  }\n\n}\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,KAAK,QAAgB,eAAe;AAajD,WAAMC,aAAa,GAAnB,MAAMA,aAAa;EAWxBC,YAAqBC,OAAgC,EAAUC,MAAc;IAAxD,KAAAD,OAAO,GAAPA,OAAO;IAAmC,KAAAC,MAAM,GAANA,MAAM;EAAU;EAE/EC,QAAQA,CAAA;IACN,IAAI,CAACC,OAAO,CAACC,SAAS,CAAEC,MAAM,IAAI;MAChC,IAAI,CAACL,OAAO,CAACM,gBAAgB,EAAE,CAACF,SAAS,CAAEG,aAAa,IAAI;QAE1D,IAAIF,MAAM,KAAK,EAAE,EAAE;UAEf,IAAI,CAACG,qBAAqB,GAAGD,aAAa,CAACE,MAAM,CAAEC,YAAY,IAAI;YAClE,OAAOA,YAAY,CAACC,IAAI,CAACC,IAAI,CAACC,QAAQ,CAACR,MAAM,CAAC;UAC/C,CAAC,CAAC;SACL,MAAM;UAEL,IAAI,CAACG,qBAAqB,GAAGD,aAAa;;MAE9C,CAAC,CAAC;IACJ,CAAC,CAAC;EAEJ;EAEAO,OAAOA,CAACC,EAAW;IACjB,IAAI,CAACd,MAAM,CAACe,QAAQ,CAAC,CAAC,eAAe,EAAED,EAAE,CAAC,CAAC;EAC7C;CAED;AA/BUE,UAAA,EAARpB,KAAK,EAAE,C,6CAAiC;AAJ9BC,aAAa,GAAAmB,UAAA,EANzBrB,SAAS,CAAC;EACTsB,QAAQ,EAAE,UAAU;EACpBC,WAAW,EAAE,uBAAuB;EACpCC,SAAS,EAAE,CAAC,uBAAuB;CACpC,CAAC,C,EAEWtB,aAAa,CAmCzB"},"metadata":{},"sourceType":"module","externalDependencies":[]}